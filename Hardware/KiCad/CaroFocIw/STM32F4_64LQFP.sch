EESchema Schematic File Version 4
LIBS:CaroFocIw-cache
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 15
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MCU_ST_STM32F4:STM32F405RGTx U3
U 1 1 5C3615AF
P 5300 3600
F 0 "U3" H 5300 1714 50  0000 C CNN
F 1 "STM32F405RGTx" H 5300 1623 50  0000 C CNN
F 2 "Package_QFP:LQFP-64_10x10mm_P0.5mm" H 4700 1900 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00037051.pdf" H 5300 3600 50  0001 C CNN
	1    5300 3600
	1    0    0    -1  
$EndComp
Text HLabel 6200 4500 2    50   Input ~ 0
CanRx
Text HLabel 6200 4600 2    50   Output ~ 0
CanTx
Wire Wire Line
	6000 4600 6200 4600
Wire Wire Line
	6000 4500 6200 4500
Text HLabel 4400 3900 0    50   Input ~ 0
CurrentU
Text HLabel 4400 3800 0    50   Input ~ 0
CurrentV
Text HLabel 4400 3700 0    50   Input ~ 0
CurrentW
Wire Wire Line
	4400 3700 4600 3700
Wire Wire Line
	4400 3800 4600 3800
Wire Wire Line
	4400 3900 4600 3900
Text HLabel 6200 2800 2    50   Output ~ 0
LogicUH
Text HLabel 6200 2900 2    50   Output ~ 0
LogicVH
Text HLabel 6200 3000 2    50   Output ~ 0
LogicWH
Text HLabel 6200 5000 2    50   Output ~ 0
LogicUL
Text HLabel 6200 5100 2    50   Output ~ 0
LogicVL
Text HLabel 6200 5200 2    50   Output ~ 0
LogicWL
Wire Wire Line
	6000 2800 6200 2800
Wire Wire Line
	6000 2900 6200 2900
Wire Wire Line
	6000 3000 6200 3000
Wire Wire Line
	6000 5000 6200 5000
Wire Wire Line
	6000 5100 6200 5100
Wire Wire Line
	6000 5200 6200 5200
Text HLabel 6200 2500 2    50   Output ~ 0
EncoderSclk
Text HLabel 6200 2600 2    50   Input ~ 0
EncoderMiso
Text HLabel 6200 2700 2    50   Output ~ 0
EncoderMosi
Text HLabel 6200 2400 2    50   Output ~ 0
~EncoderCs
Wire Wire Line
	6000 2400 6200 2400
Wire Wire Line
	6000 2500 6200 2500
Wire Wire Line
	6000 2600 6200 2600
Wire Wire Line
	6000 2700 6200 2700
$Comp
L power:GND #PWR036
U 1 1 5C363B2C
P 4000 2200
F 0 "#PWR036" H 4000 1950 50  0001 C CNN
F 1 "GND" H 4005 2027 50  0000 C CNN
F 2 "" H 4000 2200 50  0001 C CNN
F 3 "" H 4000 2200 50  0001 C CNN
	1    4000 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C8
U 1 1 5C363B59
P 4250 2000
F 0 "C8" V 3998 2000 50  0000 C CNN
F 1 "100n" V 4089 2000 50  0000 C CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4288 1850 50  0001 C CNN
F 3 "~" H 4250 2000 50  0001 C CNN
	1    4250 2000
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR035
U 1 1 5C363BD8
P 4000 2000
F 0 "#PWR035" H 4000 1750 50  0001 C CNN
F 1 "GND" H 4005 1827 50  0000 C CNN
F 2 "" H 4000 2000 50  0001 C CNN
F 3 "" H 4000 2000 50  0001 C CNN
	1    4000 2000
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR017
U 1 1 5C36439E
P 5100 1500
F 0 "#PWR017" H 5100 1350 50  0001 C CNN
F 1 "+3.3V" H 5115 1673 50  0000 C CNN
F 2 "" H 5100 1500 50  0001 C CNN
F 3 "" H 5100 1500 50  0001 C CNN
	1    5100 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR018
U 1 1 5C3643C8
P 5200 1500
F 0 "#PWR018" H 5200 1350 50  0001 C CNN
F 1 "+3.3V" H 5215 1673 50  0000 C CNN
F 2 "" H 5200 1500 50  0001 C CNN
F 3 "" H 5200 1500 50  0001 C CNN
	1    5200 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR019
U 1 1 5C3643D7
P 5300 1500
F 0 "#PWR019" H 5300 1350 50  0001 C CNN
F 1 "+3.3V" H 5315 1673 50  0000 C CNN
F 2 "" H 5300 1500 50  0001 C CNN
F 3 "" H 5300 1500 50  0001 C CNN
	1    5300 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR020
U 1 1 5C3643E6
P 5400 1500
F 0 "#PWR020" H 5400 1350 50  0001 C CNN
F 1 "+3.3V" H 5415 1673 50  0000 C CNN
F 2 "" H 5400 1500 50  0001 C CNN
F 3 "" H 5400 1500 50  0001 C CNN
	1    5400 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR021
U 1 1 5C3643F5
P 5500 1500
F 0 "#PWR021" H 5500 1350 50  0001 C CNN
F 1 "+3.3V" H 5515 1673 50  0000 C CNN
F 2 "" H 5500 1500 50  0001 C CNN
F 3 "" H 5500 1500 50  0001 C CNN
	1    5500 1500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR037
U 1 1 5C36443C
P 5200 5700
F 0 "#PWR037" H 5200 5450 50  0001 C CNN
F 1 "GND" H 5205 5527 50  0000 C CNN
F 2 "" H 5200 5700 50  0001 C CNN
F 3 "" H 5200 5700 50  0001 C CNN
	1    5200 5700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR038
U 1 1 5C364462
P 5300 5700
F 0 "#PWR038" H 5300 5450 50  0001 C CNN
F 1 "GND" H 5305 5527 50  0000 C CNN
F 2 "" H 5300 5700 50  0001 C CNN
F 3 "" H 5300 5700 50  0001 C CNN
	1    5300 5700
	1    0    0    -1  
$EndComp
$Comp
L power:GNDA #PWR039
U 1 1 5C364488
P 5400 5700
F 0 "#PWR039" H 5400 5450 50  0001 C CNN
F 1 "GNDA" H 5405 5527 50  0000 C CNN
F 2 "" H 5400 5700 50  0001 C CNN
F 3 "" H 5400 5700 50  0001 C CNN
	1    5400 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 5400 5200 5700
Wire Wire Line
	5300 5400 5300 5700
Wire Wire Line
	5400 5400 5400 5700
Text HLabel 6200 4000 2    50   Output ~ 0
GateDriverEnable
Wire Wire Line
	6000 4000 6200 4000
$Comp
L power:GND #PWR029
U 1 1 5C3668A1
P 7900 1800
F 0 "#PWR029" H 7900 1550 50  0001 C CNN
F 1 "GND" H 7905 1627 50  0000 C CNN
F 2 "" H 7900 1800 50  0001 C CNN
F 3 "" H 7900 1800 50  0001 C CNN
	1    7900 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C2
U 1 1 5C3668BA
P 7900 1650
F 0 "C2" H 8015 1696 50  0000 L CNN
F 1 "4.7µ, 6.3V" H 8015 1605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 7938 1500 50  0001 C CNN
F 3 "~" H 7900 1650 50  0001 C CNN
	1    7900 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	5100 1500 5100 1800
Wire Wire Line
	5200 1500 5200 1800
Wire Wire Line
	5300 1500 5300 1800
Wire Wire Line
	5400 1500 5400 1800
Wire Wire Line
	5500 1500 5500 1800
Wire Wire Line
	5600 1500 5600 1800
$Comp
L power:+3.3V #PWR023
U 1 1 5C3684B8
P 7900 1500
F 0 "#PWR023" H 7900 1350 50  0001 C CNN
F 1 "+3.3V" H 7915 1673 50  0000 C CNN
F 2 "" H 7900 1500 50  0001 C CNN
F 3 "" H 7900 1500 50  0001 C CNN
	1    7900 1500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR030
U 1 1 5C368513
P 8300 1800
F 0 "#PWR030" H 8300 1550 50  0001 C CNN
F 1 "GND" H 8305 1627 50  0000 C CNN
F 2 "" H 8300 1800 50  0001 C CNN
F 3 "" H 8300 1800 50  0001 C CNN
	1    8300 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C3
U 1 1 5C368519
P 8300 1650
F 0 "C3" H 8415 1696 50  0000 L CNN
F 1 "4.7µ, 6.3V" H 8415 1605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 8338 1500 50  0001 C CNN
F 3 "~" H 8300 1650 50  0001 C CNN
	1    8300 1650
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR024
U 1 1 5C368520
P 8300 1500
F 0 "#PWR024" H 8300 1350 50  0001 C CNN
F 1 "+3.3V" H 8315 1673 50  0000 C CNN
F 2 "" H 8300 1500 50  0001 C CNN
F 3 "" H 8300 1500 50  0001 C CNN
	1    8300 1500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR031
U 1 1 5C3688F2
P 8700 1800
F 0 "#PWR031" H 8700 1550 50  0001 C CNN
F 1 "GND" H 8705 1627 50  0000 C CNN
F 2 "" H 8700 1800 50  0001 C CNN
F 3 "" H 8700 1800 50  0001 C CNN
	1    8700 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 5C3688F8
P 8700 1650
F 0 "C4" H 8815 1696 50  0000 L CNN
F 1 "4.7µ, 6.3V" H 8815 1605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 8738 1500 50  0001 C CNN
F 3 "~" H 8700 1650 50  0001 C CNN
	1    8700 1650
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR025
U 1 1 5C3688FF
P 8700 1500
F 0 "#PWR025" H 8700 1350 50  0001 C CNN
F 1 "+3.3V" H 8715 1673 50  0000 C CNN
F 2 "" H 8700 1500 50  0001 C CNN
F 3 "" H 8700 1500 50  0001 C CNN
	1    8700 1500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR032
U 1 1 5C368CBE
P 9100 1800
F 0 "#PWR032" H 9100 1550 50  0001 C CNN
F 1 "GND" H 9105 1627 50  0000 C CNN
F 2 "" H 9100 1800 50  0001 C CNN
F 3 "" H 9100 1800 50  0001 C CNN
	1    9100 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 5C368CC4
P 9100 1650
F 0 "C5" H 9215 1696 50  0000 L CNN
F 1 "4.7µ, 6.3V" H 9215 1605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 9138 1500 50  0001 C CNN
F 3 "~" H 9100 1650 50  0001 C CNN
	1    9100 1650
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR026
U 1 1 5C368CCB
P 9100 1500
F 0 "#PWR026" H 9100 1350 50  0001 C CNN
F 1 "+3.3V" H 9115 1673 50  0000 C CNN
F 2 "" H 9100 1500 50  0001 C CNN
F 3 "" H 9100 1500 50  0001 C CNN
	1    9100 1500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR033
U 1 1 5C369087
P 9500 1800
F 0 "#PWR033" H 9500 1550 50  0001 C CNN
F 1 "GND" H 9505 1627 50  0000 C CNN
F 2 "" H 9500 1800 50  0001 C CNN
F 3 "" H 9500 1800 50  0001 C CNN
	1    9500 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:C C6
U 1 1 5C36908D
P 9500 1650
F 0 "C6" H 9615 1696 50  0000 L CNN
F 1 "4.7µ, 6.3V" H 9615 1605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 9538 1500 50  0001 C CNN
F 3 "~" H 9500 1650 50  0001 C CNN
	1    9500 1650
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR027
U 1 1 5C369094
P 9500 1500
F 0 "#PWR027" H 9500 1350 50  0001 C CNN
F 1 "+3.3V" H 9515 1673 50  0000 C CNN
F 2 "" H 9500 1500 50  0001 C CNN
F 3 "" H 9500 1500 50  0001 C CNN
	1    9500 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3VA #PWR022
U 1 1 5C369472
P 5600 1500
F 0 "#PWR022" H 5600 1350 50  0001 C CNN
F 1 "+3.3VA" H 5615 1673 50  0000 C CNN
F 2 "" H 5600 1500 50  0001 C CNN
F 3 "" H 5600 1500 50  0001 C CNN
	1    5600 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C C7
U 1 1 5C36954C
P 9900 1650
F 0 "C7" H 10015 1696 50  0000 L CNN
F 1 "4.7µ, 6.3V" H 10015 1605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 9938 1500 50  0001 C CNN
F 3 "~" H 9900 1650 50  0001 C CNN
	1    9900 1650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDA #PWR034
U 1 1 5C369977
P 9900 1800
F 0 "#PWR034" H 9900 1550 50  0001 C CNN
F 1 "GNDA" H 9905 1627 50  0000 C CNN
F 2 "" H 9900 1800 50  0001 C CNN
F 3 "" H 9900 1800 50  0001 C CNN
	1    9900 1800
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3VA #PWR028
U 1 1 5C3699B2
P 9900 1500
F 0 "#PWR028" H 9900 1350 50  0001 C CNN
F 1 "+3.3VA" H 9915 1673 50  0000 C CNN
F 2 "" H 9900 1500 50  0001 C CNN
F 3 "" H 9900 1500 50  0001 C CNN
	1    9900 1500
	1    0    0    -1  
$EndComp
Text HLabel 6200 4100 2    50   Input ~ 0
~GateDriverErr1
Text HLabel 6200 4200 2    50   Input ~ 0
~GateDriverErr2
Wire Wire Line
	6200 4100 6000 4100
Wire Wire Line
	6200 4200 6000 4200
Text HLabel 6200 3300 2    50   Input ~ 0
SWDIO
Text HLabel 6200 3400 2    50   Input ~ 0
SWCLK
Text HLabel 4500 1900 1    50   Input ~ 0
~RST
NoConn ~ 4600 3200
NoConn ~ 4600 3300
NoConn ~ 4600 5100
NoConn ~ 4600 5200
NoConn ~ 6000 3900
NoConn ~ 6000 3500
Wire Wire Line
	6000 3300 6200 3300
Wire Wire Line
	6000 3400 6200 3400
Text HLabel 6200 4800 2    50   Input ~ 0
DcLinkVoltage
Wire Wire Line
	6000 4800 6200 4800
NoConn ~ 4600 2400
NoConn ~ 4600 2500
NoConn ~ 4600 3500
NoConn ~ 4600 5000
NoConn ~ 4600 4900
NoConn ~ 4600 4800
NoConn ~ 4600 4700
NoConn ~ 4600 4600
NoConn ~ 4600 4500
NoConn ~ 4600 4400
NoConn ~ 4600 4300
NoConn ~ 4600 4200
NoConn ~ 4600 4100
NoConn ~ 4600 4000
NoConn ~ 6000 4900
NoConn ~ 6000 4700
NoConn ~ 6000 4400
NoConn ~ 6000 4300
NoConn ~ 6000 3800
NoConn ~ 6000 3700
NoConn ~ 6000 3100
NoConn ~ 6000 3200
NoConn ~ 6000 2300
NoConn ~ 6000 2200
NoConn ~ 6000 2100
NoConn ~ 6000 2000
Wire Wire Line
	4100 2000 4000 2000
Wire Wire Line
	4600 2000 4500 2000
Wire Wire Line
	4600 2200 4000 2200
Wire Wire Line
	4500 1900 4500 2000
Connection ~ 4500 2000
Wire Wire Line
	4500 2000 4400 2000
$EndSCHEMATC
